<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE muclient>

<muclient>
<plugin
   name="SK_CombatHighlighter"
   author="Aello"
   id="11111141111111111111111C"
   language="Lua"
   purpose="Highlights and display notifications"
   date_written="2018-05-12 10:45:35"
   requires="4.94"
   version="1.0"
   >
<description trim="y">
<![CDATA[
Combat Notification and Highlighting alerts

]]>
</description>

</plugin>

<!--  Triggers  -->
<triggers>

  
  <trigger
   custom_colour="17"
   enabled="y"
   expand_variables="y"
   ignore_case="y"
   keep_evaluating="y"
   match="@target"
   regexp="y"
   repeat="y"
   sequence="90"
   other_text_colour="red"
  >
  </trigger>
  <trigger
   enabled="y"
   match="^(?:\> )*(Your spirit companions leave you.|You feel less protected.|Your clothing feels soft again.|You feel less righteous.|Your ward dissolves.|Your skin feels soft again.|Your rage ebbs.|You slowly float to the ground.|The bubble of airy water collapses.|You are no longer invisible.|Your force shield shimmers then fades away.|Your spell ward dissolves.|You feel yourself slow down.|You feel weaker.|You retain your stance.|Your pulse slows to normal.|You start to (pray|chant).|(.*) starts to (pray|chant).|You regain your footing.|You need to regain your feet first.|You regain consciousness and rise unsteadily to your feet.|(.*) regains consciousness and rises unsteadily to (its|his|her) feet.|(.*) starts to concentrate.|(.*) utters the words, (.*).|(.*) glows with mystical energy!|(.*) tries to disarm you, but fails.|(.*) disarms you and sends your weapon flying!|(.*) regains (his|her|its) footing.|There is too much chaos going on right now.|Your spirit feels more settled.|Your body feels less fatigued.|The ether wire phases partially out of existence. |You feel level-headed again.|Your skin feels soft again.|You fight a battle of inner will.|You thunder forth a tremendous rallying cry!|(.*) thunders forth a tremendous rallying cry!|(.*) sounds the retreat!|You assume (a|an) (neutral|defensive|aggressive) stance.|You trip (.*) and (he|she|it) goes down!|You are ready to summon another treant.|You feel able to conjure another elemental.|Yippee! It worked.|The white aura around your body fades.|You feel your pulse slow down.|Pink flames surround (.*).|Better stand up first.|Your elemental flickers slightly.|That group is in the thick of battle.|Your mount is now rested and recharged.|You no longer see in the dark.|A spirit steed glows brightly and vanishes back to the upper planes.|Your spirit companion flickers slightly.|Both of (its|his|her) legs are already mangled.|Your methodical attack breaks down as (.*) taunts you.|Your bash misses and you fall flat on your face!|You slam into (.*) and send (him|her|it) sprawling!|You evade (.*)'s bash and (he|she|it) falls flat on (his|her|its) face.|(.*) slams into (.*) and sends (.*) sprawling!|(.*)'s bash misses and (he|she|it) falls flat on (his|her|its) face.|You try to trip (.*) but end up tripping yourself!|(.*) tries to trip (.*) but ends up tripping (himself|herself|itself)!|(.*) trips you and you go down!|(.*) trips (.*) sending (him|her|it) to the ground.|(.*) appears to be blinded.|(.*) is blinded by the dirt in (his|her|its) eyes!|(.*) sly taunts cause (.*) to charge (him|her|it) in fury.|(.*) attempts to taunt (.*), but just sounds lame.|(.*) goes crazy as (.*) begins taunting (him|her|it) mercilessly.|(.*) tries to taunt you. Maybe you should teach (him|her|it) a lesson\?|Your sly taunts cause (.*) to charge you in fury.|(.*) is standing behind your victim, blocking your attack.|You are too busy defending yourself.|(.*) is still hyper-alert from combat.|(His|Her|Its) weapon won't budge!|You fail to disarm (.*).|(.*) disarms you but you secure your weapon.|You disarm (.*) and send [hisherits]+ weapon flying!|(.*) disarms (.*) and sends [hisherits]+ weapon flying!|You feel unclean.|(.*) looks very uncomfortable.|You disarm (.*)!|(.*) disarms (.*)!|.* (is|are) nearby (north|east|south|west|northeast|southeast|southwest|northwest|up|down) from here.|.* (is|are) not too far off (north|east|south|west|northeast|southeast|southwest|northwest|up|down) from here.|.* (is|are) fairly far (north|east|south|west|northeast|southeast|southwest|northwest|up|down) from here.|.* (is|are) a long ways off (north|east|south|west|northeast|southeast|southwest|northwest|up|down) from here.|(.*) gesticulates and suddenly (.*) is vomiting as [hisherits]* organs twist!|(.*)'s petrification spell turns (.*) to stone!|(.*) howls in agony as the magma clings to [hisherits]+ body!|(.*) unleashes a torrent of magma on (.*), charring [hisheritsyour]+ flesh severely!|(.*)'s blast of acid sprays (.*), sizzling and burning [hisheritsyour]+ skin!|(.*) dodges aside but is still affected (.*)'s acid blast.|(.*) throws a flurry of magic missile at (.*)!|You are blinded!|(.*) tosses [hisherits]+ glowing spear at (.*) and rejoices as it hits [himherit]+.|(.*)'s faithful spear sails wide, but (.*) still cringes in pain.|(.*) fires a lance of gloom at (.*) which envelopes [herhimityou]+ in shadow.|(.*) drains some of (.*)'s magical energy!|(.*) cringe[s]* in terror from (.*)'s bolt of glory!|(.*) surrounded by a nimbus of holy light!|(.*) bursts into a glorious flash of holy light and crumbles to dust!|(.*) weep[s]* in pain and despair as (.*)'s bolt of glory hits [himherityou]+.|(.*) causes bloody wounds to open in (.*)'s arms and legs!|(.*) causes large, bloody wounds to open in (.*)'s chest!|(.*) causes blood to trickle from (.*)'s eyes and ears!|(.*) appears to be deaf.|You are deafened!|(.*) look[s]* tired and weak.|(.*) shivers and looks very ill.|(.*) looks very ill.|You feel very sick.|You smell (.*)'s roasting flesh as (.*) burns [himherit]+ with hellfire!|(.*) dodge[s]* aside as (.*)'s hellfire washes over [himherityou]+.|(You) feel your flesh roast as (.*) burns you with [hisherits]+ hellfire!|(.*) whiten[s]* slightly as (.*) drains a portion of [itsherhisyour]+ life-force!|(.*) stagger[s]* momentarily after (.*) points [hisherits]+ finger at [himherityou]+!|(.*) begin[s]* to drool at the mouth.|(.*) turn[s]* blue and shivers.|(.*) shivers but fights on as (.*) attacks with [hisherits]+ chill touch!|(.*) gets a wild look in [hisherits]+ eyes.|(.*) enveloped in a mantle of deepest darkness.|(.*) whitens as (.*) drains a large portion of its life-force!|(.*) appears withered and pale after (.*) drains its blood.|(.*) screams in agony as plague sores erupt from its skin.|(.*) fills the room with a tangible aura of fear and horror!|You howl in agony as the magma clings to your body!|(.*) turns ethereal.|(.*) is knocked unconscious by the force of (.*)'s blow!|You are knocked unconscious by the force of (.*)'s blow!|(.*) cries out in pain as (.*) touches [himherit]+ with his electrical hands.|(.*) manages to slap (.*)'s hands away before .* can electrocute it!|(.*) goes into spasm as (.*)'s bolt of lightning slams into [himherit]+!|(.*) wavers under the impact of (.*)'s lightning bolt, its body twitching!|(.*) opens a gate to its own plane and steps through.|(.*) slows to normal speed!|(.*) is moving more slowly.|(.*)'s muscles lose their heightened power!|You feel yourself moving more slowly.|You feel stronger.|You feel yourself speed up.|(.*) is knocked senseless by the force of (.*)'s blow!|You rub the dirt out of your eyes.|(.*) seems to glow faintly, his eyes gleaming with newfound energy.)$"
   omit_from_output="y"
   regexp="y"
   script="replaceRedirect"
   sequence="5"
  >
  </trigger>
</triggers>

<aliases>
  <alias
   match="^tar(?:g|ge|get)? ([a-zA-Z0-9\-\s]+)$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
clientCheck = "%" .. "1"
if "%1" ~= clientCheck then
	if "%1" ~= "" then
		target = "%1"
		SetVariable("target", target)
		Note("Target: %1")
	else 
		target = ""
		SetVariable("target", target)
		Note("Target Cleared")
	end
else
	if matches[2] then
		target = matches[2]
		echo("Target: " .. matches[2])
		if targetID then killTrigger(targetID) end
		targetID = tempRegexTrigger("(?i)("..target..")", [[selectString(matches[2], 1) fg("red") resetFormat()]])
		--targetID = tempRegexTrigger("(?i)("..target..")", function() selectString(target, 1) fg("red") deselect() resetFormat() end)
	else 
		target = ""
		echo("Target Cleared")
		killTrigger(targetID)
	end
end
  
</send>
  </alias>
  <alias
   match="^tar$"
   enabled="y"
   regexp="y"
   send_to="12"
   sequence="100"
  >
  <send>
clientCheck = "%" .. "1"
if "%1" ~= clientCheck then
	Note("Current Target: " .. GetVariable("target"))
else
	echo("Current Target: " .. target)
end  
</send>
  </alias>
</aliases>

<script>
<![CDATA[
backgroundColor="black"highlightNormal="silver"highlightCombat="green"highlightColor1="cyan"highlightColor2="#FF6347"highlightColor3="#98ff98"highlightColor4="#EE82EE"highlightColor5="magenta"highlightColor6="brown"tagStart="~>~>~> "tagEnd="<~<~<~"function stylize(a,b,c)return{text=c,textcolour=a,backcolour=b,length=string.len(c),style=0}end;function chatRedirect(styles)require"serialize"check(CallPlugin("10778718503f0c91106745f5","display",serialize.save_simple(styles)))end;function echoEditor(highlightColor1,backgroundColor,d)ColourNote(highlightColor1,backgroundColor,d)end;function customNotify(e,f)styles={}table.insert(styles,stylize(ColourNameToRGB(e),ColourNameToRGB("black"),f))chatRedirect(styles)end;function notifyHighlight(g,person,personTarget)if personTarget and person then ColourTell(highlightColor1,backgroundColor,tagStart)ColourTell(highlightColor3,backgroundColor,person.." ")ColourTell(highlightColor2,backgroundColor,g.." ")ColourTell(highlightColor4,backgroundColor,personTarget.." ")ColourTell(highlightColor1,backgroundColor,tagEnd)Note("")elseif person then ColourTell(highlightColor1,backgroundColor,tagStart)ColourTell(highlightColor3,backgroundColor,person.." ")ColourTell(highlightColor2,backgroundColor,g.." ")ColourTell(highlightColor1,backgroundColor,tagEnd)Note("")else ColourTell(highlightColor1,backgroundColor,tagStart)ColourTell(highlightColor2,backgroundColor,g.." ")ColourTell(highlightColor1,backgroundColor,tagEnd)Note("")end;styles={}if IsPluginInstalled("10778718503f0c91106745f5")then if personTarget and person then table.insert(styles,stylize(ColourNameToRGB(highlightColor1),ColourNameToRGB(backgroundColor),tagStart))table.insert(styles,stylize(ColourNameToRGB(highlightColor3),ColourNameToRGB(backgroundColor),person.." "))table.insert(styles,stylize(ColourNameToRGB(highlightColor2),ColourNameToRGB(backgroundColor),g.." "))table.insert(styles,stylize(ColourNameToRGB(highlightColor4),ColourNameToRGB(backgroundColor),personTarget.." "))table.insert(styles,stylize(ColourNameToRGB(highlightColor1),ColourNameToRGB(backgroundColor),tagEnd))chatRedirect(styles)elseif person then table.insert(styles,stylize(ColourNameToRGB(highlightColor1),ColourNameToRGB(backgroundColor),tagStart))table.insert(styles,stylize(ColourNameToRGB(highlightColor3),ColourNameToRGB(backgroundColor),person.." "))table.insert(styles,stylize(ColourNameToRGB(highlightColor2),ColourNameToRGB(backgroundColor),g.." "))table.insert(styles,stylize(ColourNameToRGB(highlightColor1),ColourNameToRGB(backgroundColor),tagEnd))chatRedirect(styles)else table.insert(styles,stylize(ColourNameToRGB(highlightColor1),ColourNameToRGB(backgroundColor),tagStart))table.insert(styles,stylize(ColourNameToRGB(highlightColor2),ColourNameToRGB(backgroundColor),g.." "))table.insert(styles,stylize(ColourNameToRGB(highlightColor1),ColourNameToRGB(backgroundColor),tagEnd))chatRedirect(styles)end end end;function highlightDirection(h,k,n)target=GetVariable("target")or""choppedInput=h;if target~=""then l,m=string.find(string.lower(choppedInput),string.lower(target))if l and m and m~=string.len(choppedInput)then _,matchCount=string.gsub(string.lower(choppedInput),string.lower(target),string.lower(target))for o=1,matchCount do l,m=string.find(string.lower(choppedInput),string.lower(target))beforeTarget=string.sub(choppedInput,0,l-1)matchTarget=string.sub(choppedInput,l,m)ColourTell(RGBColourToName(k),RGBColourToName(n),beforeTarget)ColourTell("red",RGBColourToName(n),matchTarget)choppedInput=string.sub(choppedInput,m+1)end end end;i,j=nil;if string.find(choppedInput,"northeast")then i,j=string.find(choppedInput,"northeast")elseif string.find(choppedInput,"southeast")then i,j=string.find(choppedInput,"southeast")elseif string.find(choppedInput,"southwest")then i,j=string.find(choppedInput,"southwest")elseif string.find(choppedInput,"northwest")then i,j=string.find(choppedInput,"northwest")elseif string.find(choppedInput,"north")then i,j=string.find(choppedInput,"north")elseif string.find(choppedInput,"south")then i,j=string.find(choppedInput,"south")elseif string.find(choppedInput,"east")then i,j=string.find(choppedInput,"east")elseif string.find(choppedInput,"west")then i,j=string.find(choppedInput,"west")elseif string.find(choppedInput,"up")then i,j=string.find(choppedInput,"up")elseif string.find(choppedInput,"down")then i,j=string.find(choppedInput,"down")end;distance="0"if string.find(choppedInput,"nearby")then distance="1"elseif string.find(choppedInput,"not too far off")then distance="2"elseif string.find(choppedInput,"fairly far")then distance="3"elseif string.find(choppedInput,"a long ways off")then distance="4"end;if i and j then beforeText=string.sub(choppedInput,0,i-1)highlightedText=string.sub(choppedInput,i,j)afterText=string.sub(choppedInput,j+1)ColourTell(RGBColourToName(k),RGBColourToName(n),beforeText)ColourTell(highlightColor1,RGBColourToName(n),highlightedText.." "..distance)ColourTell(RGBColourToName(k),RGBColourToName(n),afterText)Note("")else ColourTell(RGBColourToName(k),RGBColourToName(n),choppedInput)end end;incantations={["aque bragh"]="acid blast",["aiuwahz oculoae"]="animate dead",["abrazak"]="armor",["babbrz"]="babble",["barh ay ohifl"]="bolt of glory",["fido"]="bless",["noselacri"]="blindness",["bcandusahp ay ruyz"]="breath of life",["mosailla paieg"]="burning hands",["qarr abrazak"]="call armor",["qarr diesilla"]="call lightning",["qaiqzrrann"]="cancellation",["qkadagz qfuhuqar"]="cause critical",["qkadagz dies"]="cause light",["qkadagz gzfuajg"]="cause serious",["qpaui diesilla"]="chain lightning",["qpaiozghayy"]="changestaff",["qpaioz gzn"]="change sex",["qpabraw dudasabru"]="charm person",["qpurr hajqp"]="chill touch",["qahif gsgrul"]="color spray",["qaiz ay qare"]="cone of cold",["qaiyjguai"]="confusion",["qaiyjcandus zrzwunsohar"]="conjure elemental",["qaigzqgruhz abrazak"]="consecrate armor",["qaigzqgruhz uhzw"]="consecrate item",["qaigzqgruhz xzasai"]="consecrate weapon",["qaihuijar dies"]="continual light",["qaihfar jioculoae"]="control undead",["qaihfar xzahpzf"]="control weather",["qcandusahz yaae"]="create food",["qcandusahz gsfuio"]="create spring",["qcandusahz xahzf"]="create water",["qcanduszsuio eaaw"]="creeping doom",["judicandus noselacri"]="cure blindness",["judicandus qfuhuqar"]="cure critical",["judicandus oculoaylacri"]="cure deafness",["judicandus eugzagz"]="cure disease",["judicandus dies"]="cure light",["judicandus sausabru"]="cure poison",["judicandus gzfuajg"]="cure serious",["judifgz"]="curse",["oculoaylacri"]="deafness",["oculoahp gpfaje"]="death shroud",["oculoszculayuqann"]="depetrification",["oculoinfra kadagru"]="detect aura",["oculoinfra mosauze"]="detect buried",["oculoinfra pueoculoi"]="detect hidden",["oculoinfra uizug"]="detect invis",["oculoinfra waouq"]="detect magic",["oculoinfra sausabru"]="detect poison",["oculozann"]="devotion",["euo"]="dig",["eugszr waouq"]="dispel",["eugsufuh"]="dispirit",["zabrahpdjatz"]="earthquake",["zrzwunsohar xarr"]="elemental wall",["unsoqpaih abrazak"]="enchant armor",["unsoqpaih uhzw"]="enchant item",["unsoqpaih xzasai"]="enchant weapon",["unsozfoukzf"]="energizer",["unsozfol egruui"]="energy drain",["unsorabraoz"]="enlarge",["unsohaiorz"]="entangle",["zhpzcandusaryafw"]="etherealform",["znafqugw"]="exorcism",["yazfuz yucandus"]="faerie fire",["yazfuz yao"]="faerie fog",["yzabra"]="fear",["yzagh ay yzabra"]="feast of fear",["yzzbrzwuie"]="feeblemind",["yuiar gculatz"]="final strike",["yuiozf ay oculoahp"]="finger of death",["yucandusbarr"]="fireball",["yrawzgculatz"]="flamestrike",["yrl"]="fly",["ycandusikl"]="frenzy",["oahz"]="gate",["ouaih ghcandusiohp"]="giant strength",["ohiaw raiqz"]="gloom lance",["ocandusunso hpjwb"]="green thumb",["pawwzf ay dies"]="hammer of light",["pabraw"]="harm",["paghz"]="haste",["pzar"]="heal",["pzaruio grulg"]="healing rays",["pzrryucandus"]="hellfire",["pzzakfpaoz"]="hemorrhage",["parl glwbar"]="holy symbol",["parl xafe"]="holy word",["uoculoihuyl"]="identify",["uiygruzuguai"]="infravision",["uihzfeuqnn"]="interdiction",["uizuiqubrz kadagru"]="invincible aura",["uizug"]="invis",["ufaiojabrae"]="ironguard",["diesunso hiae"]="lighten load",["diesilla barh"]="lightning bolt",["hiqahz abyzqh"]="locate object",["waouq wuggurz"]="magic missile",["waouqar zzghwunsoh"]="magical vestment",["waowa gsgrul"]="magma spray",["wagg pzaruio"]="mass healing",["wagg uizug"]="mass invis",["wueiuoph"]="midnight",["wuwuq"]="mimic",["wuffaf uwaoz"]="mirror image",["szculayuqann"]="petrification",["spaunsoun pzabrah"]="phoenix heart",["sraojz"]="plague",["sausabru"]="poison",["sarlzaksp"]="polymorph",["sfainfrauai"]="protection",["gruugz oculoae"]="raise dead",["candusqpabraoz"]="recharge",["candusima"]="refresh",["candusounsozgrunn"]="regeneration",["candussido qawsjrguai"]="remove compulsion",["candussido judifgz"]="remove curse",["candusgugh zrzwunsohg"]="resist elements",["candusgjfcandusqnn"]="resurrection",["fuyh"]="rift",["gaiqhjabral"]="sanctuary",["gpuzre"]="shield",["gpaqtuio ogrugs"]="shocking grasp",["gpfuit"]="shrink",["grzzs"]="sleep",["ghix"]="slow",["gszabra ay yauhp"]="spear of faith",["gszrr xabrae"]="spell ward",["gsufuh kadagru"]="spirit aura",["gsufuh earr"]="spirit doll",["gsufuh pafoculo"]="spirit horde",["gsufuh guoph"]="spirit sight",["ghaiz gtui"]="stone skin",["gjwwai"]="summon",["glwbar ay saui"]="symbol of pain",["hzrzsafh"]="teleport",["hunsozbfuajg mosagh"]="tenebrious burst",["haiojzg"]="tongues",["hgruqtrzgg ghzs"]="trackless step",["jwbgru waihrz"]="umbra mantle",["jioculofghaie"]="understand",["zawsufuq hajqp"]="vampiric touch",["zuharuhl"]="vitality",["zaaeaa"]="voodoo",["xabras gsaqz"]="warp space",["xabrasahp"]="warpath",["xzatunso"]="weaken",["xafe ay candusqarr"]="word of recall",["eawuiann"]="domination",["gzaiqz"]="seance",["aqqzrzgruhz pzaruio"]="accelerate healing",["zwdudaafg yazaf"]="emperor's favor",["gqahhzfsafh"]="scatterport",["UNKNOWN"]="distort alignment",["UNKNOWN"]="insight",["UNKNOWN"]="luck",["UNKNOWN"]="true sight"}notifications={["qarr diesilla"]="call lightning",["oculoinfra kadagru"]="detect aura",["yrawzgculatz"]="flamestrike",["parl xafe"]="holy word",["qpabraw dudasabru"]="charm person",["qahif gsgrul"]="color spray",["grzzs"]="sleep",["eugszr waouq"]="dispel",["qaiz ay qare"]="cone of cold",["qpaui diesilla"]="chain lightning",["zabrahpdjatz"]="earthquake",["yucandusbarr"]="fireball",["mosailla paieg"]="burning hands",["qcanduszsuio eaaw"]="creeping doom",["pzaruio grulg"]="healing rays",["gsufuh pafoculo"]="spirit horde",["yuiar gculatz"]="final strike"}notificationsReverse={}for i,p in pairs(notifications)do notificationsReverse[p]=i end;function replaceRedirect(q,d,r,styles)d=string.gsub(d,"> ","")if d=="Your pulse slows to normal."then echoEditor(highlightColor1,backgroundColor,d)elseif d=="You regain your footing."then echoEditor(highlightColor1,backgroundColor,d)notifyHighlight("YOU GOT BACK UP")elseif d=="There is too much chaos going on right now."then echoEditor(highlightColor1,backgroundColor,d)elseif d=="Your spirit feels more settled."then echoEditor(highlightColor1,backgroundColor,d)elseif d=="Your body feels less fatigued."then echoEditor(highlightColor1,backgroundColor,d)elseif d=="Your skin feels soft again."then echoEditor(highlightColor1,backgroundColor,d)notifyHighlight("STONE SKIN DOWN")elseif d=="You feel level-headed again."then echoEditor(highlightColor1,backgroundColor,d)notifyHighlight("TAUNT/HECKLE WORE OFF")elseif d=="The ether wire phases partially out of existence. "then echoEditor(highlightColor1,backgroundColor,d)elseif d=="You fight a battle of inner will."then echoEditor(highlightColor1,backgroundColor,d)elseif string.find(d,"^(.*) sounds the retreat!$")then person=string.match(d,"^(.*) sounds the retreat!$")echoEditor(highlightColor6,backgroundColor,d)notifyHighlight("RETREATS",person)elseif d=="You thunder forth a tremendous rallying cry!"then echoEditor(highlightColor6,backgroundColor,d)notifyHighlight("RALLYING CRY SUCCESSFUL")elseif string.find(d,"^(.*) thunders forth a tremendous rallying cry!$")then person=string.match(d,"^(.*) thunders forth a tremendous rallying cry!$")echoEditor(highlightColor1,backgroundColor,d)notifyHighlight("RALLYING CRY",person)elseif d=="You retain your stance."then echoEditor(highlightColor1,backgroundColor,d)elseif d=="You need to regain your feet first."then echoEditor(highlightColor1,backgroundColor,d)notifyHighlight("STILL PRONE")elseif d=="You regain consciousness and rise unsteadily to your feet."then echoEditor(highlightColor1,backgroundColor,d)notifyHighlight("YOU RECOVERED FROM STUN")elseif d=="Your spirit companions leave you."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SPIRIT AURA DOWN")elseif d=="You feel less protected."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("ARMOR/PROT/RESIST ELEMENTS DOWN")elseif d=="Your clothing feels soft again."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("MAGICAL VESTMENT DOWN")elseif d=="You feel less righteous."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("BLESS DOWN")elseif d=="Your ward dissolves."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IRONGUARD DOWN")elseif d=="Your skin feels soft again."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("STONE SKIN DOWN")elseif d=="Your rage ebbs."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("FRENZY DOWN")elseif d=="You slowly float to the ground."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("FLY DOWN")elseif d=="The bubble of airy water collapses."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("AIRY WATER DOWN")elseif d=="You are no longer invisible."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("INVIS DOWN")elseif d=="Your force shield shimmers then fades away."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SHIELD DOWN")elseif d=="Your spell ward dissolves."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SPELL WARD DOWN")elseif d=="You feel yourself slow down."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("HASTE DOWN")elseif d=="You feel weaker."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("GIANT STRENGTH DOWN/WEAKEN")elseif d=="The white aura around your body fades."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SANCTUARY DOWN")elseif d=="You are ready to summon another treant."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("CHANGESTAFF")elseif d=="You feel able to conjure another elemental."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("ELEMENTAL READY")elseif d=="You feel your pulse slow down."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("RALLYING CRY DOWN")elseif d=="Yippee! It worked."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("BABBLE")elseif d=="Better stand up first."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("STAND UP")elseif d=="Your elemental flickers slightly."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("ELEMENTAL ONE TICK")elseif d=="That group is in the thick of battle."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("CANNOT STAB")elseif d=="Your mount is now rested and recharged."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SPIRIT STEED READY")elseif d=="You no longer see in the dark."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("INFRAVISION DOWN")elseif d=="A spirit steed glows brightly and vanishes back to the upper planes."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SPIRIT STEED DOWN")elseif d=="Your spirit companion flickers slightly."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SPIRIT STEED ONE TICK")elseif d=="Your bash misses and you fall flat on your face!"then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE PRONE (Missed Bash)")elseif d=="You feel unclean."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE CURSED")elseif d=="You are too busy defending yourself."then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("CANNOT CIRCLE")elseif string.find(d,"^(.*) regains consciousness and rises unsteadily to [itshisher]* feet.$")then person=string.match(d,"^(.*) regains consciousness and rises unsteadily to [itshisher]* feet.$")echoEditor(highlightColor1,backgroundColor,d)notifyHighlight("RECOVERED FROM STUN",person)elseif string.find(d,"^(.*) starts to concentrate.$")then echoEditor(highlightColor2,backgroundColor,d)elseif string.find(d,"^(.*) utters the words, (.*).$")then person=string.match(d,"([a-zA-Z%s\-\']*) utters the words")incantation=string.match(d,"'([a-zA-Z%s]*)'")ColourTell(highlightColor1,backgroundColor,person)ColourTell(highlightColor5,backgroundColor," utters the words, '")ColourTell(highlightColor1,backgroundColor,incantations[incantation]or incantation)ColourTell(highlightColor5,backgroundColor,"'.")Note("")if notifications[incantation]then notifyHighlight("CASTED".." "..incantations[incantation],person)elseif notificationsReverse[incantation]then notifyHighlight("CASTED".." "..incantation,person)end elseif string.find(d,"^(.*) glows with mystical energy!")then echoEditor(highlightColor2,backgroundColor,d)elseif string.find(d,"^(.*) regains [hisherits]* footing.$")then person=string.match(d,"^(.*) regains [hisherits]* footing.$")echoEditor(highlightColor1,backgroundColor,d)notifyHighlight("GOT BACK UP",person)elseif string.find(d,"^You assume [an]* [neutraldefensiveaggressive]* stance.$")then echoEditor(highlightColor6,backgroundColor,d)elseif string.find(d,"^You trip (.*) and [hesheit]* goes down!$")then person=string.match(d,"You trip (.*) and [hesheit]* goes down!$")echoEditor(highlightCombat,backgroundColor,d)notifyHighlight("IS PRONE (Tripped)",person)elseif string.find(d,"^You start to [praychant]*.$")then echoEditor(highlightNormal,backgroundColor,"You start to concentrate.")elseif string.find(d,"^(.*) starts to [praychant]*.$")then echoEditor(highlightColor2,backgroundColor,string.match(d,"^(.*) starts to [praychant]*.$").." starts to concentrate.")elseif string.find(d,"^Pink flames surround (.*).$")then person=string.match(d,"^Pink flames surround (.*).$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("FAERIE FIRED",person)elseif string.find(d,"^(.*) looks very uncomfortable.$")then person=string.match(d,"^(.*) looks very uncomfortable.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("CURSED",person)elseif string.find(d,"^You fail to disarm (.*).$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("FAILED DISARM")elseif string.find(d,"^(.*) weapon won't budge!$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("CURSED WEAPON")elseif string.find(d,"^(.*) is still hyper%-alert from combat.$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("HYPER ALERT")elseif string.find(d,"^Your sly taunts cause (.*) to charge you in fury.$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("TAUNT SUCCEEDED")elseif string.find(d,"^(.*) tries to taunt you. Maybe you should teach [himherit]* a lesson%?$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE TAUNTED")elseif string.find(d,"^(.*) goes crazy as (.*) begins taunting [himherit]* mercilessly.$")then person=string.match(d,"^.* goes crazy as (.*) begins taunting [himherit]* mercilessly.$")personTarget=string.match(d,"^(.*) goes crazy as .* begins taunting [himherit]* mercilessly.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("TAUNTED",person,personTarget)elseif string.find(d,"^(.*) attempts to taunt (.*), but just sounds lame.$")then person=string.match(d,"^(.*) attempts to taunt .*, but just sounds lame.$")personTarget=string.match(d,"^.* attempts to taunt (.*), but just sounds lame.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("FAILED TAUNT",person,personTarget)elseif string.find(d,"^(.*) sly taunts cause (.*) to charge [himherit]* in fury.$")then person=string.match(d,"^(.*) sly taunts cause .* to charge [himherit]* in fury.$")personTarget=string.match(d,"^.* sly taunts cause (.*) to charge [himherit]* in fury.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("TAUNTED",person,personTarget)elseif string.find(d,"^(.*) is blinded by the dirt in [hisherits]* eyes!$")then person=string.match(d,"^(.*) is blinded by the dirt in .* eyes!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("BLINDED BY DIRT",person)elseif string.find(d,"^(.*) appears to be blinded.$")then person=string.match(d,"^(.*) appears to be blinded.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("BLINDED BY SPELL",person)elseif string.find(d,"^(.*) trips you and you go down!$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE PRONE (TRIPPED)")elseif string.find(d,"^(.*) tries to trip (.*) but ends up tripping [himselfherselfitself]*!$")then person=string.match(d,"^(.*) tries to trip .* but ends up tripping [himselfherselfitself]*!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS PRONE (Missed Trip)",person)elseif string.find(d,"^You try to trip (.*) but end up tripping yourself!$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE PRONE (Missed Trip)")elseif string.find(d,"^(.*)'s bash misses and [hesheit]* falls flat on [hisherits]* face.$")then person=string.match(d,"^(.*)'s bash misses and [hesheit]* falls flat on [hisherits]* face.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS PRONE (Missed Bash)",person)elseif string.find(d,"^You evade (.*)'s bash and [hesheit]* falls flat on [hisherits]* face.$")then person=string.match(d,"^You evade (.*)'s bash and [hesheit]* falls flat on [hisherits]* face.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS PRONE (Missed Bash)",person)elseif string.find(d,"^You slam into (.*) and send [himherit]* sprawling!$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("BASH SUCCEEDED")elseif string.find(d,"^Your methodical attack breaks down as (.*) taunts you.$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE TAUNTED")elseif string.find(d,"^Both of [itshisher]* legs are already mangled.$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SWITCH TO CIRCLE")elseif string.find(d,"^(.*) disarms you but you secure your weapon.$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE DISARMED.  WIELD WEAPON")elseif string.find(d,"^You disarm (.*) and send [hisherits]+ weapon flying!$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("DISARM SUCCEEDED")elseif string.find(d,"^(.*) slams into (.*) and sends .* sprawling!$")then person=string.match(d,"^(.*) slams into .* and sends .* sprawling!$")personTarget=string.match(d,"^.* slams into (.*) and sends .* sprawling!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("BASHED",person,personTarget)elseif string.find(d,"^(.*) trips (.*) sending [himherit]* to the ground.$")then person=string.match(d,"^(.*) trips .* sending [himherit]* to the ground.$")personTarget=string.match(d,"^.* trips (.*) sending [himherit]* to the ground.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("TRIPPED",person,personTarget)elseif string.find(d,"^(.*) disarms you and sends your weapon flying!$")then echoEditor(highlightColor6,backgroundColor,d)notifyHighlight("YOU ARE DISARMED")elseif string.find(d,"^(.*) disarms (.*) and sends [hisherits]+ weapon flying!$")then person=string.match(d,"^(.*) disarms .* and sends [hisherits]+ weapon flying!$")personTarget=string.match(d,"^.* disarms (.*) and sends [hisherits]+ weapon flying!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("DISARMED",person,personTarget)elseif string.find(d,"^(.*) disarms (.*)!$")then person=string.match(d,"^(.*) disarms .*!$")personTarget=string.match(d,"^.* disarms (.*)!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("DISARMED",person,personTarget)elseif string.find(d,"^(.*) is standing behind your victim, blocking your attack.$")then person=string.match(d,"^(.*) is standing behind your victim, blocking your attack.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS IN THE WAY. BLOCKING!",person)elseif string.find(d,"^You disarm (.*)!$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("DISARM SUCCEEDED")elseif string.find(d,"^(.*) tries to disarm you, but fails.$")then person=string.match(d,"^(.*) tries to disarm you, but fails.$")echoEditor(highlightCombat,backgroundColor,d)notifyHighlight("DISARM ATTEMPT WARNING",person)elseif string.find(d,"^.* [isare]* nearby [northeast|southwestnortheastsoutheastsouthwestnorthwestupdown]* from here.$")or string.find(d,"^.* [isare]* not too far off [northeastsouthwestnortheastsoutheastsouthwestnorthwestupdown]* from here.$")or string.find(d,"^.* [isare]* fairly far [northeastsouthwestnortheastsoutheastsouthwestnorthwestupdown]* from here.$")or string.find(d,"^.* [isare]* a long ways off [northeastsouthwestnortheastsoutheastsouthwestnorthwestupdown]* from here.$")then for _,p in ipairs(styles)do highlightDirection(p.text,p.textcolour,p.backcolour)end elseif string.find(d,"^(.*) gesticulates and suddenly (.*) is vomiting as [hisherits]* organs twist!$")then person=string.match(d,"^(.*) gesticulates and suddenly .* is vomiting as [hisherits]* organs twist!$")personTarget=string.match(d,"^.* gesticulates and suddenly (.*) is vomiting as [hisherits]* organs twist!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("HARMED",person,personTarget)elseif string.find(d,"^(.*)\'s petrification spell turns (.*) to stone!$")then person=string.match(d,"^(.*)\'s petrification spell turns .* to stone!$")personTarget=string.match(d,"^.*\'s petrification spell turns (.*) to stone!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("PETRIFIED",person,personTarget)elseif string.find(d,"^(.*) howls in agony as the magma clings to [hisherits]+ body!$")then person=string.match(d,"^(.*) howls in agony as the magma clings to [hisherits]+ body!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("MAGMA CLUNG ON",person)elseif string.find(d,"^(.*) unleashes a torrent of magma on (.*), charring [hisheritsyour]+ flesh severely!$")then person=string.match(d,"^(.*) unleashes a torrent of magma on .*, charring [hisheritsyour]+ flesh severely!$")personTarget=string.match(d,"^.* unleashes a torrent of magma on (.*), charring [hisheritsyour]+ flesh severely!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("MAGMAS",person,personTarget)elseif string.find(d,"^(.*)'s blast of acid sprays (.*), sizzling and burning [hisheritsyour]+ skin!$")then person=string.match(d,"^(.*)'s blast of acid sprays .*, sizzling and burning [hisheritsyour]+ skin!$")personTarget=string.match(d,"^.*'s blast of acid sprays (.*), sizzling and burning [hisheritsyour]+ skin!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("ACID BLASTS",person,personTarget)elseif string.find(d,"^(.*) dodges aside but is still affected (.*)'s acid blast.$")then person=string.match(d,"^.* dodges aside but is still affected (.*)'s acid blast.$")personTarget=string.match(d,"^(.*) dodges aside but is still affected .*'s acid blast.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("ACID BLASTS",person,personTarget)elseif string.find(d,"^(.*) throws a flurry of magic missile at (.*)!$")then person=string.match(d,"^(.*) throws a flurry of magic missile at .*!$")personTarget=string.match(d,"^.* throws a flurry of magic missile at (.*)!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("MAGIC MISSILES",person,personTarget)elseif string.find(d,"^(.*) tosses [hisherits]+ glowing spear at (.*) and rejoices as it hits [himherit]+.$")then person=string.match(d,"^(.*) tosses [hisherits]+ glowing spear at .* and rejoices as it hits [himherit]+.$")personTarget=string.match(d,"^.* tosses [hisherits]+ glowing spear at (.*) and rejoices as it hits [himherit]+.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SPEAR OF FAITHS",person,personTarget)elseif string.find(d,"^(.*)'s faithful spear sails wide, but (.*) still cringes in pain.$")then person=string.match(d,"^(.*)'s faithful spear sails wide, but .* still cringes in pain.$")personTarget=string.match(d,"^.*'s faithful spear sails wide, but (.*) still cringes in pain.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SPEAR OF FAITHS",person,personTarget)elseif string.find(d,"^(.*) fires a lance of gloom at (.*) which envelopes [herhimityou]+ in shadow.$")then person=string.match(d,"^(.*) fires a lance of gloom at .* which envelopes [herhimityou]+ in shadow.$")personTarget=string.match(d,"^.* fires a lance of gloom at (.*) which envelopes [herhimityou]+ in shadow.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("GLOOM LANCES",person,personTarget)elseif string.find(d,"^(.*) drains some of (.*)'s magical energy!$")then person=string.match(d,"^(.*) drains some of .*'s magical energy!$")personTarget=string.match(d,"^.* drains some of (.*)'s magical energy!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("MANA DRAINS",person,personTarget)elseif string.find(d,"^You are blinded!$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE BLINDED")elseif string.find(d,"^(.*) cringe[s]* in terror from (.*)'s bolt of glory!$")then person=string.match(d,"^.* cringe[s]* in terror from (.*)'s bolt of glory!$")personTarget=string.match(d,"^(.*) cringe[s]* in terror from .*'s bolt of glory!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("BoGs",person,personTarget)elseif string.find(d,"^(.*) surrounded by a nimbus of holy light!$")then person=string.match(d,"^(.*) surrounded by a nimbus of holy light!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("TAUNTED BY BoG",person)elseif string.find(d,"^(.*) bursts into a glorious flash of holy light and crumbles to dust!$")then person=string.match(d,"^(.*) bursts into a glorious flash of holy light and crumbles to dust!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("INSTANTLY DIES BY BoG",person)elseif string.find(d,"^.* weep[s]* in pain and despair as (.*)'s bolt of glory hits [himherityou]+.$")then person=string.match(d,"^.* weep[s]* in pain and despair as (.*)'s bolt of glory hits [himherityou]+.$")personTarget=string.match(d,"^(.*) weep[s]* in pain and despair as .*'s bolt of glory hits [himherityou]+.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("BoGs",person,personTarget)elseif string.find(d,"^(.*) causes bloody wounds to open in (.*)'s arms and legs!$")then person=string.match(d,"^(.*) causes bloody wounds to open in .*'s arms and legs!$")personTarget=string.match(d,"^.* causes bloody wounds to open in (.*)'s arms and legs!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("CAUSE LIGHTS",person,personTarget)elseif string.find(d,"^(.*) causes large, bloody wounds to open in .*'s chest!$")then person=string.match(d,"^(.*) causes large, bloody wounds to open in .*'s chest!$")personTarget=string.match(d,"^.* causes large, bloody wounds to open in (.*)'s chest!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("CAUSE SERIOUS",person,personTarget)elseif string.find(d,"^(.*) causes blood to trickle from (.*)'s eyes and ears!$")then person=string.match(d,"^(.*) causes blood to trickle from .*'s eyes and ears!$")personTarget=string.match(d,"^.* causes blood to trickle from (.*)'s eyes and ears!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("CAUSE CRITICALS",person,personTarget)elseif string.find(d,"^(.*) appears to be deaf.$")then person=string.match(d,"^(.*) appears to be deaf.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS DEAFENED",person)elseif string.find(d,"^You are deafened!$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE DEAFENED")elseif string.find(d,"^(.*) look[s]* tired and weak.$")then person=string.match(d,"^(.*) look[s]* tired and weak.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("WEAKENED",person)elseif string.find(d,"^(.*) shivers and looks very ill.$")then person=string.match(d,"^(.*) looks very ill.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS POISONED",person)elseif string.find(d,"^(.*) looks very ill.$")then person=string.match(d,"^(.*) looks very ill.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS POISONED",person)elseif string.find(d,"^You feel very sick.$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE POISON")elseif string.find(d,"^You smell (.*)'s roasting flesh as (.*) burns [himherit]+ with hellfire!$")then person=string.match(d,"^You smell .*'s roasting flesh as (.*) burns [himherit]+ with hellfire!$")personTarget=string.match(d,"^You smell (.*)'s roasting flesh as .* burns [himherit]+ with hellfire!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("HELLFIRES",person,personTarget)elseif string.find(d,"^(.*) dodge[s]* aside as (.*)'s hellfire washes over [himherityou]+.$")then person=string.match(d,"^.* dodge[s]* aside as (.*)'s hellfire washes over [himherityou]+.$")personTarget=string.match(d,"^(.*) dodge[s]* aside as .*'s hellfire washes over [himherityou]+.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("HELLFIRES",person,personTarget)elseif string.find(d,"^(You) feel your flesh roast as (.*) burns you with [hisherits]+ hellfire!$")then person=string.match(d,"^You feel your flesh roast as (.*) burns you with his hellfire!$")personTarget=string.match(d,"^(You) feel your flesh roast as .* burns you with his hellfire!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("HELLFIRES",person,personTarget)elseif string.find(d,"^(.*) stagger[s]* momentarily after (.*) points [hisherits]+ finger at [himherityou]+!$")then person=string.match(d,"^.* stagger[s]* momentarily after (.*) points [hisherits]+ finger at [himherityou]+!$")personTarget=string.match(d,"^(.*) stagger[s]* momentarily after .* points [hisherits]+ finger at [himherityou]+!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("FoDs",person,personTarget)elseif string.find(d,"^(.*) begin[s]* to drool at the mouth.$")then person=string.match(d,"^(.*) begin[s]* to drool at the mouth.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("FEEBLEMINDED",person)elseif string.find(d,"^(.*) turn[s]* blue and shivers.$")then person=string.match(d,"^(.*) turn[s]* blue and shivers.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS CHILL TOUCH WEAKENED",person)elseif string.find(d,"^(.*) shivers but fights on as (.*) attacks with [hisherits]+ chill touch!$")then person=string.match(d,"^.* shivers but fights on as (.*) attacks with [hisherits]+ chill touch!$")personTarget=string.match(d,"^(.*) shivers but fights on as .* attacks with [hisherits]+ chill touch!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("CHILL TOUCHES",person,personTarget)elseif string.find(d,"^(.*) gets a wild look in [herhisits]+ eyes.$")then person=string.match(d,"^(.*) gets a wild look in [herhisits]+ eyes.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("BERSERKED/FRENZIED/FURIED",person)elseif string.find(d,"^(.*) whiten[s]* slightly as (.*) drains a portion of [itsherhisyour]+ life%-force!$")then person=string.match(d,"^.* whiten[s]* slightly as (.*) drains a portion of [itsherhisyour]+ life%-force!$")personTarget=string.match(d,"^(.*) whiten[s]* slightly as .* drains a portion of [itsherhisyour]+ life%-force!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("ENERGY DRAINS",person,personTarget)elseif string.find(d,"^(.*) enveloped in a mantle of deepest darkness.$")then person=string.match(d,"^(.*) enveloped in a mantle of deepest darkness.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("UMBRA MANTLED",person,personTarget)elseif string.find(d,"^(.*) whitens as (.*) drains a large portion of its life%-force!$")then person=string.match(d,"^.* whitens as (.*) drains a large portion of its life%-force!$")personTarget=string.match(d,"^(.*) whitens as .* drains a large portion of its life%-force!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("ENERGY DRAINS",person,personTarget)elseif string.find(d,"^(.*) appears withered and pale after (.*) drains its blood.$")then person=string.match(d,"^.* appears withered and pale after (.*) drains its blood.$")personTarget=string.match(d,"^(.*) appears withered and pale after .* drains its blood.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("VAMPIRIC TOUCHED",person,personTarget)elseif string.find(d,"^(.*) screams in agony as plague sores erupt from its skin.$")then person=string.match(d,"^(.*) screams in agony as plague sores erupt from its skin.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS PLAGUED",person)elseif string.find(d,"^(.*) fills the room with a tangible aura of fear and horror!$")then person=string.match(d,"^(.*) fills the room with a tangible aura of fear and horror!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("CASTED fear",person)elseif string.find(d,"^You howl in agony as the magma clings to your body!$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU HAVE MAGMA ON YOU")elseif string.find(d,"^(.*) turns ethereal.$")then person=string.match(d,"^(.*) turns ethereal.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS ETHEREAL",person)elseif string.find(d,"^(.*) is knocked unconscious by the force of (.*)'s blow!$")then person=string.match(d,"^.* is knocked unconscious by the force of (.*)'s blow!$")personTarget=string.match(d,"^(.*) is knocked unconscious by the force of .*'s blow!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("KNOCKS OUT (Headbutt)",person,personTarget)elseif string.find(d,"^You are knocked unconscious by the force of (.*)'s blow!$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU ARE KNOCKED OUT (Headbutt)")elseif string.find(d,"^(.*) cries out in pain as (.*) touches [himherit]+ with his electrical hands.$")then person=string.match(d,"^.* cries out in pain as (.*) touches [himherit]+ with his electrical hands.$")personTarget=string.match(d,"^(.*) cries out in pain as .* touches [himherit]+ with his electrical hands.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SHOCKING GRASPS",person,personTarget)elseif string.find(d,"^(.*) manages to slap (.*)'s hands away before .* can electrocute it!$")then person=string.match(d,"^.* manages to slap (.*)'s hands away before .* can electrocute it!$")personTarget=string.match(d,"^(.*) manages to slap .*'s hands away before .* can electrocute it!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SHOCKING GRASPS",person,personTarget)elseif string.find(d,"^(.*) wavers under the impact of (.*)'s lightning bolt, its body twitching!$")then person=string.match(d,"^.* wavers under the impact of (.*)'s lightning bolt, its body twitching!$")personTarget=string.match(d,"^(.*) wavers under the impact of .*'s lightning bolt, its body twitching!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("LIGHTNING BOLTS",person,personTarget)elseif string.find(d,"^(.*) goes into spasm as (.*)'s bolt of lightning slams into [himherit]+!$")then person=string.match(d,"^.* goes into spasm as (.*)'s bolt of lightning slams into [himherit]+!$")personTarget=string.match(d,"^(.*) goes into spasm as .*'s bolt of lightning slams into [himherit]+!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("LIGHTNING BOLTS",person,personTarget)elseif string.find(d,"^(.*) opens a gate to its own plane and steps through.$")then person=string.match(d,"^(.*) opens a gate to its own plane and steps through.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("DISAPPEARS",person)elseif string.find(d,"^(.*) slows to normal speed!$")then person=string.match(d,"^(.*) slows to normal speed!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("LOST HASTE",person)elseif string.find(d,"^(.*) is moving more slowly.$")then person=string.match(d,"^(.*) is moving more slowly.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("IS SLOWED",person)elseif string.find(d,"^(.*)'s muscles lose their heightened power!$")then person=string.match(d,"^(.*)'s muscles lose their heightened power!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("LOST GIANT STRENGTH",person)elseif string.find(d,"^You feel yourself moving more slowly.$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("YOU LOST HASTE")elseif string.find(d,"^You feel stronger.$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("WEAKEN WORE OFF")elseif string.find(d,"^You feel yourself speed up.$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("SLOW WORE OFF")elseif string.find(d,"^(.*) is knocked senseless by the force of (.*)'s blow!$")then person=string.match(d,"^.* is knocked senseless by the force of (.*)'s blow!$")personTarget=string.match(d,"^(.*) is knocked senseless by the force of .*'s blow!$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("KNOCKS OUT (Headbutt)",person,personTarget)elseif string.find(d,"^You rub the dirt out of your eyes.$")then echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("DIRT KICK WORE OFF")elseif string.find(d,"^(.*) seems to glow faintly, his eyes gleaming with newfound energy.$")then person=string.match(d,"^(.*) seems to glow faintly, his eyes gleaming with newfound energy.$")echoEditor(RGBColourToName(styles[1].textcolour),RGBColourToName(styles[1].backcolour),d)notifyHighlight("USED DAYBREAK",person)else Note("Error: Regex not found")Note(d)end end
]]>
</script>
</muclient>